import { X, Search } from 'lucide-react';
import { Button } from '@/components/ui/button';
import { Badge } from '@/components/ui/badge';

interface FilterBannerProps {
  layer?: string;
  aging?: string;
  empresa?: string;
  onClear: () => void;
}

const agingLabels: Record<string, string> = {
  '0-30': '0-30 dias',
  '31-60': '31-60 dias',
  '61-90': '61-90 dias',
  '91-180': '91-180 dias',
  '181-365': '181-365 dias',
  '366-730': '1+ ano',
  '730+': '2+ anos',
};

export function VulnerabilityFilterBanner({ layer, aging, empresa, onClear }: FilterBannerProps) {
  const hasFilters = layer || aging || empresa;
  if (!hasFilters) return null;

  return (
    <div className="flex items-center gap-3 p-3 rounded-lg border border-primary/30 bg-primary/5">
      <Search className="w-4 h-4 text-primary shrink-0" />
      <span className="text-sm text-muted-foreground">Filtros aplicados do Dashboard:</span>
      <div className="flex items-center gap-2 flex-wrap">
        {layer && <Badge variant="outline" className="text-xs">Layer Risk {layer}</Badge>}
        {aging && <Badge variant="outline" className="text-xs">Aging: {agingLabels[aging] || aging}</Badge>}
        {empresa && <Badge variant="outline" className="text-xs">Empresa: {empresa}</Badge>}
      </div>
      <Button variant="ghost" size="sm" onClick={onClear} className="ml-auto shrink-0 h-7 px-2 text-xs gap-1">
        <X className="w-3 h-3" />
        Limpar
      </Button>
    </div>
  );
}
